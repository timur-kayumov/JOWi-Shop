Складской учёт и движение товаров

Управление остатками: В системе фиксируются остатки товаров по каждому складу (магазину). При продажах и возвратах остатки автоматически списываются/приходуются. У пользователя всегда должна быть возможность видеть актуальный остаток по каждому SKU в каждом магазине в реальном времени (при условии синхронизации с POS). Важное требование – предотвращение отрицательных остатков: система либо блокирует продажу, если товара нет на складе, либо предупреждает и позволяет продать в минус (опция для администратора). В идеале, для розницы – не продавать того, чего нет.

Складские документы: Для операций движения предусмотрены документы:

Приходная накладная – оформление поступления товара от поставщика. Пользователь (кладовщик или менеджер) вводит накладную: выбирает поставщика, список товаров, количество, закупочные цены, дата прихода. Проведение накладной увеличивает остатки на складе и фиксирует задолженность перед поставщиком (если закуплено в кредит).

Перемещение – документ для перемещения товара с одного склада на другой (например, со склада компании в конкретный магазин, или между магазинами). Документ указывает склад-отправитель, склад-получатель, товары и кол-ва. Проведение списывает остаток с отправителя и приходует получателю.

Возврат поставщику – оформляет возврат бракованного или лишнего товара обратно поставщику. Списывает товар со склада, уменьшает задолженность перед поставщиком (или формирует долг поставщика перед нами, если уже было оплачено).

Акт списания – (если требуется) документ для списания товара по причине порчи, кражи, истечения срока годности. Уменьшает остатки и отражается в учёте как расход/убыток.

Инвентаризация – документ пересчета остатков. Кладовщик проводит инвентаризацию (полную или частичную): сканирует/вводит фактическое наличие товара, сравнивает с данными системы, и документ фиксирует расхождения (излишки или недостачи). Проведение инвентаризации корректирует остатки на складе и может генерировать соответствующие списания/оприходования для учёта.

Каждый документ имеет номер, дату, ответственного и проводки в учётной системе. Проведенные документы нельзя задним числом редактировать (только сторно или исправления новым документом), чтобы сохранять целостность истории учета.

Метод учёта себестоимости: Для вычисления себестоимости проданных товаров и оценки складских запасов используется метод FIFO (First In, First Out) по партиям:

Система отслеживает партии товара: каждая приходная накладная создает партии с определённой ценой закупки. При продаже товара ему сопоставляется цена из первой нереализованной партии (FIFO). Таким образом можно рассчитать валовую прибыль (разница между ценой продажи и себестоимостью).

В MVP достаточно ориентироваться на FIFO, без поддержки сложных методов (LIFO, средняя и т.д.). ClickHouse аналитика может рассчитывать прибыль, опираясь на эти данные.

Операции списания при продаже: Каждый чек при проведении списывает товар с конкретного склада магазина. Если в магазине несколько складов (например, витрина и запас), MVP рассматривает один основной склад на магазин. Продажа списывает с основного склада.

Контроль запасов: Менеджер должен иметь инструменты контроля:

Отчёт остатки на складе – список товаров с текущим количеством по складам, возможность фильтра по критически низким остаткам.

Неснижаемый остаток: опционально, возможность задавать для товара мин. уровень запаса. Тогда отчёты/интерфейсы помечают, что товар нужно заказать, если достиг минимума. (В МойСклад есть автопополнение до неснижаемого остатка
moysklad.uz
 – у нас пока без авто, но флаг/отметка).

Сроки годности/партионный учёт: Если работаем с товарами с expiration date (например, фармацевтика), нужен учёт по срокам годности. Это специфично, можно отложить. В MVP можно указать, что поддержка expire date возможна через партии (атрибут партии – дата).

Интеграция с закупками и финансами: Приходные накладные влияют на расчёты с поставщиками (долги), а возвраты поставщику – наоборот. Эти связи отражаются в модуле Финансы (см. далее).

Многоскладовость: Если бизнес желает вести несколько складов в пределах одного магазина (например, фронт-склад и основной склад), система должна позволять это настроить, но можно упростить: один склад = один магазин в MVP, а межскладовое перемещение – между магазинами. В будущем – добавить поддержку множества складов на магазин.

UI для склада:

Веб-интерфейс: Раздел Склад со списком документов (приходы, перемещения, инвентаризации). Реализовать удобный мастер создания документов – например, пошаговый «Wizard» для инвентаризации (выбор склада, список позиций для пересчета, ввод фактов, подтверждение).

Поддержка сканера: при работе с приходом или инвентаризацией, возможность сканировать товары для добавления строки или быстрого поиска позиции.

Экспорт/печать: Документы должны печататься на А4 (как отчёт или унифицированная форма накладной) – в узбекском/русском языках, с нужными полями (номер, дата, организации, ИНН, код товара, кол-во, цена, подписи и печати – если требуется). Можно реализовать генерацию PDF на сервере.

Циклические инвентаризации: вместо ежегодной полной, система должна поддерживать частые частичные (например, каждый день определённую категорию товаров пересчитывать). Для этого – журнал инвентаризаций, чтобы пользователь мог планировать и отмечать что когда пересчитано.

Простота использования: Несмотря на богатый функционал, интерфейс складского учёта должен быть понятен даже неопытному пользователю. Например, при создании приходной накладной – автозаполнение текущей даты, удобный поиск по поставщикам и товарам, проверка на дублирование позиций, предупреждение о превышении кредитного лимита поставщика (если введём учёт, но, возможно, не сейчас)